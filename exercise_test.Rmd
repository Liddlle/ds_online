---
title: "test"
output: 
learnr::tutorial: default
html_document: 
number_sections: no
toc: no
runtime: shiny_prerendered
---


```{r setup, include=FALSE}
library(learnr)
library(checkr)
library(tidyverse)
library(datasets)
knitr::opts_chunk$set(exercise.checker = checkr::checkr_tutor)


```


```{r exe22-setup, echo = FALSE}

```

```{r exe22, exercise = TRUE, exercise.setup = "exe22-setup", exercise.eval = FALSE}
ggplot() +
  geom_bar(data = mpg, aes(x = fl, y = hwy), stat = "identity") +
  coord_flip()
```
```{r exe22-check, echo = FALSE}
t_1 <- find_value(match_class("ggplot")) 
t_2 <- find_call("geom_bar()", "you didn't use geom_bar().") 
t_3 <- find_call("aes()", "you didn't use aesthetics.") 
t_4 <- find_statement("hwy") 
t_5 <- find_statement("mpg")
t_6 <- find_statement("fl") 
t_7 <- find_statement("coord_flip()", "didn't use coord_flip()")

USER_CODE %>% t_1 %>% t_2  %>%  t_4 %>% t_5%>% t_6 %>% t_7 
```

```{r eval = FALSE}


USER_CODE %>% test_1 %>% test_2 %>% test_3 %>% test_4 %>% test_5

```


flData = nycflights13::flights
flData = na.omit(flData)

flData = filter(flData, month == 6 | month == 7 | month == 8)
flData = filter(flData, dest == "MIA")
flData = arrange(flData, year, month, day)
flData = arrange(flData, desc(dep_delay))
flData = dplyr::select(flData, tail_num = tailnum, dep_delay:arr_delay)
flData = dplyr::select(flData, -arr_time)
flData = mutate(flData, dep_arr_dif = arr_delay - dep_delay)
flData = group_by(flData, tail_num)
tail_dif = dplyr::summarise(flData, median_dif = median(dep_arr_dif))
flData = inner_join(x = flData, y = tail_dif, by = "tail_num")

flData = arrange(flData, median_dif)
